# Default values for papermc

# -- Image configuration
image:
  repository: lexfrei/papermc
  pullPolicy: IfNotPresent
  # -- Overrides the image tag whose default is the chart appVersion
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# -- Service configuration
service:
  # -- Service type
  type: LoadBalancer
  # -- Service annotations (e.g., for LoadBalancer IP assignment)
  annotations: {}
    # io.cilium/lb-ipam-ips: "172.16.100.253"
    # metallb.io/address-pool: minecraft-pool

  # -- Minecraft TCP port
  minecraftTCPPort: 25565
  # -- Minecraft UDP port
  minecraftUDPPort: 25565

  # -- Additional ports for plugins (e.g., DynMap, BlueMap, etc.)
  # @default -- `[]`
  extraPorts: []
  # Examples:
  # - name: dynmap
  #   port: 8123
  #   protocol: TCP
  # - name: bluemap
  #   port: 8100
  #   protocol: TCP

# -- Ingress configuration for web interfaces (e.g., DynMap)
ingress:
  enabled: false
  className: "nginx"
  annotations: {}
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
    # kubernetes.io/ingress.class: nginx
  hosts:
    - host: map.example.com
      paths:
        - path: /
          pathType: Prefix
          # -- Backend service port name (e.g., dynmap)
          servicePort: dynmap
  tls: []
  #  - secretName: map-tls
  #    hosts:
  #      - map.example.com

# -- HTTPRoute configuration (Gateway API) for web interfaces
httpRoute:
  enabled: false
  # -- Parent gateway reference
  parentRefs:
    - name: cilium-gateway
      namespace: kube-system
      sectionName: https
  # -- Hostnames for the HTTPRoute
  hostnames:
    - map.example.com
  # -- Backend service port for the HTTPRoute
  backendPort: 8123

# -- Persistence configuration
persistence:
  enabled: true
  # -- Storage class name for PVC
  storageClassName: ""
  # -- Access mode for PVC
  accessMode: ReadWriteOnce
  # -- Size of the PVC
  size: 30Gi
  # -- Use an existing PVC
  existingClaim: ""

# -- Resource limits and requests
resources:
  requests:
    memory: "4Gi"
    cpu: "1000m"
  limits:
    memory: "4Gi"
    cpu: "2000m"

# -- Liveness probe configuration
livenessProbe:
  enabled: true
  tcpSocket:
    port: minecraft-tcp
  initialDelaySeconds: 60
  periodSeconds: 15

# -- Readiness probe configuration
readinessProbe:
  enabled: true
  tcpSocket:
    port: minecraft-tcp
  initialDelaySeconds: 30
  periodSeconds: 10

# -- Node selector for pod assignment
nodeSelector: {}

# -- Tolerations for pod assignment
tolerations: []

# -- Affinity for pod assignment
affinity: {}
# Example for specific node:
# nodeAffinity:
#   requiredDuringSchedulingIgnoredDuringExecution:
#     nodeSelectorTerms:
#       - matchExpressions:
#           - key: kubernetes.io/hostname
#             operator: In
#             values:
#               - mc

# -- Pod annotations
podAnnotations: {}

# -- Pod labels
podLabels: {}

# -- Security context for the pod
podSecurityContext: {}
  # fsGroup: 2000

# -- Security context for the container
securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

# -- Service account configuration
serviceAccount:
  # -- Specifies whether a service account should be created
  create: true
  # -- Annotations to add to the service account
  annotations: {}
  # -- The name of the service account to use
  name: ""

# -- Update strategy
updateStrategy:
  type: RollingUpdate
